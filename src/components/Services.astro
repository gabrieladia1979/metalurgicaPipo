---
// src/components/Services.astro

const currentPath = Astro.url.pathname;
const isEnglish = currentPath.startsWith('/en');

const servicesES = [
  {
    title: "Mecanizado CNC",
    description: "Tornería y fresado de alta precisión para piezas complejas y series de producción.",
    icon: "precision_manufacturing" 
  },
  {
    title: "Reparación de Válvulas",
    description: "Mantenimiento y rectificación de válvulas industriales bajo normas de seguridad.",
    icon: "build" 
  },
  {
    title: "Soldadura Especializada",
    description: "Procesos TIG/MIG para acero inoxidable, aluminio y aleaciones especiales.",
    icon: "waves"
  },
  {
    title: "Desarrollo de Prototipos",
    description: "Ingeniería inversa y fabricación de piezas únicas según muestra o plano.",
    icon: "engineering"
  }
];

const servicesEN = [
  {
    title: "CNC Machining",
    description: "High precision turning and milling for complex parts and production series.",
    icon: "precision_manufacturing" 
  },
  {
    title: "Valve Repair",
    description: "Maintenance and rectification of industrial valves under safety standards.",
    icon: "build" 
  },
  {
    title: "Specialized Welding",
    description: "TIG/MIG processes for stainless steel, aluminum and special alloys.",
    icon: "waves"
  },
  {
    title: "Prototype Development",
    description: "Reverse engineering and manufacturing of unique parts according to sample or blueprint.",
    icon: "engineering"
  }
];

const services = isEnglish ? servicesEN : servicesES;

const txt = {
  title: isEnglish ? 'Our Services' : 'Nuestros Servicios',
  subtitle: isEnglish ? 'Integral metallurgical solutions adapted to the needs of modern industry.' : 'Soluciones metalúrgicas integrales adaptadas a las necesidades de la industria moderna.'
};

const sustainabilityTxt = {
  main: isEnglish 
    ? "Throughout the years, Metalúrgica Bergner has established itself in the sector as a sustainable company, thanks to the responsibility of our employees and the relationship with our clients. We offer personalized service for each client, covering not only the manufacturing of valves and spare parts but also advice and management of their compressors. The human quality of Metalúrgica Bergner is fundamental to our continued sustainability."
    : "A lo largo de los años, Metalúrgica Bergner se ha mostrado en el sector como una empresa sostenible gracias a la responsabilidad de nuestros empleados y a la relación con los clientes. Ofrecemos un servicio personalizado, no solo en la fabricación de válvulas y repuestos, sino también en el asesoramiento y gestión integral de sus compresores. La calidad humana es fundamental para nuestra sustentabilidad.",
  highlight: isEnglish
    ? "Our Technical Service team consists of mechanics with over 20 years of experience performing maintenance services for High Pressure compressors."
    : "Nuestro equipo de Servicio Técnico está formado por mecánicos con más de 20 años de experiencia realizando servicios de mantenimiento de compresores de Alta Presión."
};
---


<section id="servicios" class="pt-12 pb-24 bg-gradient-to-b from-gray-50 to-white font-sans relative overflow-hidden">
  {/* Decorative background lines */}
  <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-bergner-blue to-bergner-red"></div>
  <div class="absolute -top-40 -right-40 w-96 h-96 bg-bergner-blue/5 rounded-full blur-3xl pointer-events-none"></div>
  <div class="absolute top-1/2 -left-20 w-72 h-72 bg-bergner-red/5 rounded-full blur-3xl pointer-events-none"></div>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    
    <div class="text-center mb-20">
      <span class="text-bergner-red font-bold tracking-wider uppercase text-sm mb-3 block">
        {isEnglish ? 'What We Do' : 'Nuestros Servicios'}
      </span>
      <h2 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-6 tracking-tight">
        {isEnglish ? 'Industrial Solutions' : 'Soluciones Industriales'}
      </h2>
      <p class="text-gray-600 max-w-3xl mx-auto text-xl leading-relaxed">
        {txt.subtitle}
      </p>
    </div>

    {/* Philosophy / Sustainability Section - Redesigned to match Valve Repair card */}
    <div class="mb-24">
      <div class="bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-100 flex flex-col lg:flex-row-reverse">
        
        {/* Visual / Highlight Area (Right side for balance) */}
        <div class="lg:w-[45%] bg-slate-50 relative p-8 md:p-12 flex flex-col justify-center items-center text-center">
            <div class="absolute inset-0 bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] [background-size:20px_20px] opacity-50"></div>
            
            <div class="relative z-10 max-w-sm">
                <div class="w-20 h-20 bg-bergner-red/10 rounded-full flex items-center justify-center mx-auto mb-6">
                    <span class="material-symbols-outlined text-4xl text-bergner-red">engineering</span>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-4">{isEnglish ? 'Technical Expertise' : 'Experiencia Técnica'}</h3>
                <p class="text-gray-600 font-medium text-lg leading-relaxed">
                 {sustainabilityTxt.highlight}
               </p>
            </div>
        </div>

        {/* Content Area */}
        <div class="lg:w-[55%] p-8 md:p-12 flex flex-col justify-center bg-white relative border-r border-gray-100">
           <div class="absolute top-0 left-0 p-6 opacity-[0.03] pointer-events-none">
             <span class="material-symbols-outlined text-9xl">eco</span>
          </div>
          
          <h3 class="text-2xl md:text-3xl font-bold text-gray-900 mb-6 leading-tight relative z-10">
            {isEnglish ? 'Sustainable Commitment' : 'Compromiso Sostenible'}
          </h3>

           <p class="text-gray-600 leading-relaxed text-lg relative z-10">
               {sustainabilityTxt.main}
           </p>
        </div>

      </div>
    </div>

    {/* Featured Service Section - Redesigned */}
    <div class="mb-24">
      <div class="bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-100 flex flex-col lg:flex-row">
        
        {/* Images Area - "Better placed photos" as requested */}
        <div class="lg:w-[55%] bg-slate-50 relative p-6 md:p-10 flex flex-col justify-center">
          <div class="absolute inset-0 bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] [background-size:20px_20px] opacity-50"></div>
          
          <div class="relative z-10">
             <div class="flex flex-col md:flex-row items-center gap-6 justify-center">
                
                {/* Before Image */}
                <div class="relative w-full md:w-[45%] group perspective-1000">
                  <div class="absolute -top-3 left-4 z-20">
                    <span class="bg-gray-800 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg border-2 border-white uppercase tracking-wider">
                      {isEnglish ? 'Before' : 'Antes'}
                    </span>
                  </div>
                  <div class="rounded-2xl overflow-hidden shadow-lg border-4 border-white transform transition-all duration-300 hover:scale-[1.02] hover:shadow-xl">
                    <img src="/docs/para arreglar.jpg" alt="Antes / Before" class="w-full h-56 md:h-64 object-cover filter grayscale-[30%] hover:grayscale-0 transition-all duration-500" />
                  </div>
                </div>

                {/* Arrow Connector */}
                <div class="flex-shrink-0 z-20 text-bergner-red bg-white rounded-full p-2 shadow-lg border border-gray-100 transform md:rotate-0 rotate-90">
                  <span class="material-symbols-outlined text-3xl font-bold">arrow_forward</span>
                </div>

                {/* After Image */}
                <div class="relative w-full md:w-[45%] group perspective-1000">
                  <div class="absolute -top-3 right-4 z-20">
                    <span class="bg-bergner-red text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg border-2 border-white uppercase tracking-wider">
                       {isEnglish ? 'After' : 'Ahora'}
                    </span>
                  </div>
                  <div class="rounded-2xl overflow-hidden shadow-lg border-4 border-green-50 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-green-100/50 hover:shadow-xl relative">
                    <img src="/docs/nueva.jpg" alt="Después / After" class="w-full h-56 md:h-64 object-cover" />
                    {/* Shine effect overlay */}
                    <div class="absolute inset-0 bg-gradient-to-tr from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"></div>
                  </div>
                </div>
             </div>

             <div class="mt-8 flex justify-center">
                <div class="inline-flex items-center gap-2 bg-white px-5 py-2.5 rounded-full shadow-sm border border-gray-200 text-sm font-medium text-gray-700">
                  <span class="material-symbols-outlined text-green-500 text-xl">verified</span>
                  {isEnglish ? 'Restoration: 100% functionality guaranteed.' : 'Restauración completa: 100% garantizada.'}
                </div>
             </div>
          </div>
        </div>

        {/* Content Area */}
        <div class="lg:w-[45%] p-8 md:p-12 flex flex-col justify-center bg-white relative">
          <div class="absolute top-0 right-0 p-6 opacity-[0.03] pointer-events-none">
             <span class="material-symbols-outlined text-9xl">build_circle</span>
          </div>

          <h3 class="text-2xl md:text-3xl font-bold text-gray-900 mb-6 leading-tight relative z-10">
            {isEnglish ? 'Valve Repair & Maintenance' : 'Reparación de Válvulas'}
          </h3>
          
          <div class="space-y-6 relative z-10">
            <p class="text-gray-600 leading-relaxed text-lg">
              {isEnglish 
                ? 'Comprehensive recovery of covers and seats, replacing all wear parts (discs, dampers, springs) for optimal performance.'
                : 'Recuperación integral de tapas y asientos, reemplazando todas las piezas de desgaste (discos, amortiguadores, resortes) para un rendimiento óptimo.'}
            </p>
            
            <div class="bg-blue-50/50 rounded-xl p-6 border border-blue-100">
              <h4 class="font-bold text-bergner-blue mb-4 text-sm uppercase tracking-wide flex items-center gap-2">
                <span class="material-symbols-outlined text-lg">settings</span>
                {isEnglish ? 'Our Process' : 'Nuestro Proceso'}
              </h4>
              <ul class="space-y-3">
                <li class="flex items-start gap-3 text-sm text-gray-700">
                  <span class="material-symbols-outlined text-bergner-red text-base mt-0.5">check</span>
                  <span>{isEnglish ? 'Disassembly, cleaning & blasting' : 'Desarme, limpieza y blasting profundo'}</span>
                </li>
                <li class="flex items-start gap-3 text-sm text-gray-700">
                  <span class="material-symbols-outlined text-bergner-red text-base mt-0.5">check</span>
                  <span>{isEnglish ? 'Precision machining to original specs' : 'Mecanizado de precisión según especificaciones'}</span>
                </li>
                <li class="flex items-start gap-3 text-sm text-gray-700">
                  <span class="material-symbols-outlined text-bergner-red text-base mt-0.5">check</span>
                  <span>{isEnglish ? 'Full component replacement' : 'Reemplazo total de componentes internos'}</span>
                </li>
                <li class="flex items-start gap-3 text-sm text-gray-700">
                  <span class="material-symbols-outlined text-bergner-red text-base mt-0.5">check</span>
                  <span>{isEnglish ? 'Leak & function testing' : 'Pruebas de estanqueidad y funcionamiento'}</span>
                </li>
              </ul>
            </div>

            <div class="flex items-center gap-4 pt-4">
               <div class="w-12 h-12 rounded-full bg-bergner-red/10 flex items-center justify-center text-bergner-red flex-shrink-0">
                 <span class="material-symbols-outlined">schedule</span>
               </div>
               <div>
                  <p class="text-sm font-bold text-gray-900">{isEnglish ? 'Fast Turnaround' : 'Tiempos de Entrega'}</p>
                  <p class="text-sm text-gray-500">{isEnglish ? 'Standard: 7 days / Urgent: 2 days.' : 'Estándar: 7 días / Urgente: 2 días.'}</p>
               </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    {/* Services Grid - Modernized */}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
      {services.map((service) => (
        <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group relative overflow-hidden">
          {/* Hover highlight line */}
          <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-bergner-red to-transparent scale-x-0 group-hover:scale-x-100 transition-transform duration-500"></div>

          <div class="w-14 h-14 rounded-xl bg-gray-50 flex items-center justify-center mb-6 group-hover:bg-bergner-red transition-colors duration-300 shadow-sm">
            <span class="material-symbols-outlined text-3xl text-bergner-red group-hover:text-white transition-colors">
              {service.icon}
            </span>
          </div>

          <h3 class="text-lg font-bold text-gray-900 mb-3 group-hover:text-bergner-red transition-colors">
            {service.title}
          </h3>
          
          <p class="text-gray-500 leading-relaxed text-sm group-hover:text-gray-600">
            {service.description}
          </p>
        </div>
      ))}
    </div>
  </div>
</section>